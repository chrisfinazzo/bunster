cases:
  - name: can expand variables
    script: |
      var=foo

      echo expansion:${var}
      echo length:${#var}
      echo not-null:${var:-default} not-null:${var2:-default} not-null:${var2:-}  not-null:${var2:-$(echo foobar)}
    expect:
      stdout: |
        expansion:foo
        length:3
        not-null:foo not-null:default not-null: not-null:foobar
