package main

import (
	"os"
	"bunster-build/runtime"
)

func main() {
	shell := runtime.Shell{
        PID: os.Getpid(),
        Args: os.Args,
		Main: Main,
	}

	streamManager := runtime.NewStreamManager()
	streamManager.Add("0", os.Stdin)
	streamManager.Add("1", os.Stdout)
	streamManager.Add("2", os.Stderr)

	exitCode := shell.Run(streamManager)

	streamManager.Destroy()
	os.Exit(exitCode)
}
